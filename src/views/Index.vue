<template>
  <div calss="container">
    <h1>æ¬¢è¿ä½ ï¼Œå¼€å§‹ç¾å¥½çš„ä¸€å¤©å§ï¼</h1>
    <!-- åˆ†å‰²çº¿ -->
    <el-divider></el-divider>
    <!-- èµ°é©¬ç¯ -->
    <el-carousel :interval="4000" type="card">
      <el-carousel-item v-for="item in banner" :key="item">
        <el-image style="height: 300px,width:380px" :src="item"></el-image>
      </el-carousel-item>
    </el-carousel>
    <!-- åˆ†å‰²çº¿ -->
    <el-divider></el-divider>
    <!-- ç”¨æˆ·æè¿°åˆ—è¡¨ -->
    <div class="userinfo">
      <el-descriptions title="ç”¨æˆ·ä¿¡æ¯">
        <el-descriptions-item
          v-for="(item, index) in userInfoList"
          :label="item.label"
          :key="index"
        >
          {{ item.value }}
        </el-descriptions-item>

        <el-descriptions-item label="å¤‡æ³¨">
          <el-tag size="small">ç³»ç»Ÿç®¡ç†å‘˜</el-tag>
        </el-descriptions-item>
      </el-descriptions>
    </div>
    <!-- åˆ†å‰²çº¿ -->
    <el-divider></el-divider>
    <!-- å€’è®¡æ—¶ -->
    <el-row :gutter="20">
      <el-col :span="24">
        <!-- å…ƒæ—¦å€’è®¡æ—¶ -->
        <el-card class="countdown-card" shadow="hover" style="width: 100%">
          <div slot="header" class="clearfix">
            <span>ğŸ‰è·ç¦» 2025 å¹´å…ƒæ—¦è¿˜æœ‰:ğŸ‰</span>
          </div>
          <div class="time-remaining">
            <el-statistic title="å¤©" :value="days" />
            <el-statistic title="å°æ—¶" :value="hours" />
            <el-statistic title="åˆ†é’Ÿ" :value="minutes" />
            <el-statistic title="ç§’" :value="seconds" />
          </div>
        </el-card>
        <!-- æ˜¥èŠ‚å€’è®¡æ—¶ -->
        <el-card shadow="hover" style="width: 100%">
          <div style="width: 100%; display: inline-block">
            <el-statistic
              format="DDå¤©HHå°æ—¶mmåˆ†é’Ÿ"
              :value="yeardate"
              time-indices
              title="ğŸš©è·ç¦»2025æ˜¥èŠ‚è¿˜æœ‰ï¼š"
            >
            </el-statistic>
          </div>
        </el-card>
      </el-col>
    </el-row>
    <!-- åˆ†å‰²çº¿ -->
    <el-divider></el-divider>
    <el-row :gutter="20">
      <el-col :span="12">
        <!-- æŠ˜å é¢æ¿ -->
        <el-collapse v-model="activeNames">
          <el-collapse-item title="ä¸€è‡´æ€§ Consistency" name="1">
            <div>
              ä¸ç°å®ç”Ÿæ´»ä¸€è‡´ï¼šä¸ç°å®ç”Ÿæ´»çš„æµç¨‹ã€é€»è¾‘ä¿æŒä¸€è‡´ï¼Œéµå¾ªç”¨æˆ·ä¹ æƒ¯çš„è¯­è¨€å’Œæ¦‚å¿µï¼›
            </div>
            <div>
              åœ¨ç•Œé¢ä¸­ä¸€è‡´ï¼šæ‰€æœ‰çš„å…ƒç´ å’Œç»“æ„éœ€ä¿æŒä¸€è‡´ï¼Œæ¯”å¦‚ï¼šè®¾è®¡æ ·å¼ã€å›¾æ ‡å’Œæ–‡æœ¬ã€å…ƒç´ çš„ä½ç½®ç­‰ã€‚
            </div>
          </el-collapse-item>
          <el-collapse-item title="åé¦ˆ Feedback" name="2">
            <div>
              æ§åˆ¶åé¦ˆï¼šé€šè¿‡ç•Œé¢æ ·å¼å’Œäº¤äº’åŠ¨æ•ˆè®©ç”¨æˆ·å¯ä»¥æ¸…æ™°çš„æ„ŸçŸ¥è‡ªå·±çš„æ“ä½œï¼›
            </div>
            <div>é¡µé¢åé¦ˆï¼šæ“ä½œåï¼Œé€šè¿‡é¡µé¢å…ƒç´ çš„å˜åŒ–æ¸…æ™°åœ°å±•ç°å½“å‰çŠ¶æ€ã€‚</div>
          </el-collapse-item>
          <el-collapse-item title="æ•ˆç‡ Efficiency" name="3">
            <div>ç®€åŒ–æµç¨‹ï¼šè®¾è®¡ç®€æ´ç›´è§‚çš„æ“ä½œæµç¨‹ï¼›</div>
            <div>
              æ¸…æ™°æ˜ç¡®ï¼šè¯­è¨€è¡¨è¾¾æ¸…æ™°ä¸”è¡¨æ„æ˜ç¡®ï¼Œè®©ç”¨æˆ·å¿«é€Ÿç†è§£è¿›è€Œä½œå‡ºå†³ç­–ï¼›
            </div>
            <div>
              å¸®åŠ©ç”¨æˆ·è¯†åˆ«ï¼šç•Œé¢ç®€å•ç›´ç™½ï¼Œè®©ç”¨æˆ·å¿«é€Ÿè¯†åˆ«è€Œéå›å¿†ï¼Œå‡å°‘ç”¨æˆ·è®°å¿†è´Ÿæ‹…ã€‚
            </div>
          </el-collapse-item>
          <el-collapse-item title="å¯æ§ Controllability" name="4">
            <div>
              ç”¨æˆ·å†³ç­–ï¼šæ ¹æ®åœºæ™¯å¯ç»™äºˆç”¨æˆ·æ“ä½œå»ºè®®æˆ–å®‰å…¨æç¤ºï¼Œä½†ä¸èƒ½ä»£æ›¿ç”¨æˆ·è¿›è¡Œå†³ç­–ï¼›
            </div>
            <div>
              ç»“æœå¯æ§ï¼šç”¨æˆ·å¯ä»¥è‡ªç”±çš„è¿›è¡Œæ“ä½œï¼ŒåŒ…æ‹¬æ’¤é”€ã€å›é€€å’Œç»ˆæ­¢å½“å‰æ“ä½œç­‰ã€‚
            </div>
          </el-collapse-item>
        </el-collapse>
      </el-col>

      <el-col :span="12">
        <!-- æ—¥å† -->

        <Calendar></Calendar>
      </el-col>
    </el-row>
    <transfer></transfer>
  </div>
</template>
<script>
import Calendar from "../components/eleement ui/Calendar.vue";
import Transfer from "../components/eleement ui/Transfer .vue";
import { getInfo } from "@/api/getUserData";
export default {
  components: {
    Calendar,
    Transfer,
  },
  data() {
    return {
      label: ["ç”¨æˆ·å", "æ€§åˆ«", "å¹´é¾„", "æ‰‹æœºå·", "é‚®ç®±", "åœ°å€"],
      userInfo: {
        name: "",
        sex: "",
        age: "",
        telphone: "",
        email: "",
        address: "",
      },
      //å€’è®¡æ—¶æ—¥æœŸå‚æ•°
      yeardate: new Date("2025-01-29"), //2025æ˜¥èŠ‚
      targetDate: new Date("2025-01-01T00:00:00"), // 2025å¹´å…ƒæ—¦
      days: 0,
      hours: 0,
      minutes: 0,
      seconds: 0,
      interval: null,

      //èµ°é©¬ç¯å›¾ç‰‡
      banner: [
        require("/src/assets/banner/banner1.jpg"),
        require("/src/assets/banner/banner2.jpg"),
        require("/src/assets/banner/banner3.jpg"),
        require("/src/assets/banner/banner4.jpg"),
        require("/src/assets/banner/banner5.jpg"),
        require("/src/assets/banner/banner6.jpg"),
      ],
      //æŠ˜å é¢æ¿å‚æ•°
      activeNames: ["1"],
    };
  },
  computed: {
    userInfoList() {
      // å°† userInfo å¯¹è±¡çš„å€¼å’Œ label æ•°ç»„åˆå¹¶æˆä¸€ä¸ªæ–°æ•°ç»„
      const values = Object.values(this.userInfo);
      return this.label.map((label, index) => ({
        label: label,
        value: values[index],
      }));
    },
  },
  created() {
    this.getAdminInfo();
    this.startCountdown();
  },
  beforeDestroy() {
    if (this.interval) {
      clearInterval(this.interval);
    }
  },
  methods: {
    getAdminInfo() {
      let loginInfo = JSON.parse(window.localStorage.getItem("access-admin"));

      getInfo({ id: loginInfo.id })
        .then((resp) => {
          this.userInfo = resp.data;
        })
        .catch((err) => {});
    },
    startCountdown() {
      //setIntervalè®¡ç®—ä¸€æ¬¡å‰©ä½™æ—¶é—´ï¼Œå¹¶åŠ¨æ€æ›´æ–°daysã€ã€hourså’Œminutesçš„secondså€¼ã€‚
      this.interval = setInterval(() => {
        const now = new Date();
        const timeRemaining = this.targetDate - now;

        if (timeRemaining > 0) {
          this.days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));
          this.hours = Math.floor(
            (timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
          );
          this.minutes = Math.floor(
            (timeRemaining % (1000 * 60 * 60)) / (1000 * 60)
          );
          this.seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);
        } else {
          clearInterval(this.interval);
        }
      }, 1000);
    },
  },
};
</script>
<style scoped>
.container {
  height: 100%;
  overflow-x: hidden;
}
.userinfo {
  background-color: #fff;
  margin-top: 20px;
  padding-left: 2%;
}
.el-collapse {
  padding-left: 1%;
}
/* èµ°é©¬ç¯ */
.el-carousel__item h3 {
  color: #475669;
  font-size: 14px;
  opacity: 0.75;
  line-height: 200px;
  margin: 0;
}

.el-carousel__item:nth-child(2n) {
  background-color: #99a9bf;
}

.el-carousel__item:nth-child(2n + 1) {
  background-color: #d3dce6;
}
/* å€’è®¡æ—¶ */
.countdown-card {
  width: 300px;
  /* margin: 50px auto; */
  text-align: center;
  font-size: 18px;
}

.time-remaining {
  display: flex;
  justify-content: space-around;
  font-size: 24px;
  font-weight: bold;
}
</style>
